@keyframes message-in
    0%
        opacity: 0
        filter: blur($blur)
        transform: translateX(-0.5rem)
    100%
        opacity: 1
        filter: blur(0)
        transform: translateX(0)

main
    grid-area: chatroom

    width: 100%
    height: 100%

    position: relative

    display: flex
    flex-direction: column

    overflow-y: auto

.messages
    padding: 0.5rem

    display: flex
    flex-grow: 1
    flex-direction: column
    align-items: flex-start
    justify-content: flex-start

.message
    padding: calc(calc(#{$radius} / 3) + 0.3rem)

    width: 100%

    display: flex
    flex-direction: column
    grid-gap: 0.5rem

    font-family: $font
    font-size: 16px

    color: $text
    border-radius: $radius
    border: 1px solid transparent

    animation: message-in 0.2s ease-in-out

    .info
        display: flex
        flex-direction: row
        align-items: baseline
        justify-content: flex-start

        font-weight: 400

        span:first-child
            margin-right: 0.5rem
            font-size: 0.8rem
            color: $accent
        span:last-child
            font-size: 0.6rem
            color: rgba($text, 0.5)


    p.content
        margin: 0
        word-wrap: break-word
        overflow: hidden


    .attachments
        display: flex
        flex-direction: row
        align-items: flex-start
        justify-content: flex-start
        flex-wrap: wrap
        gap: 0.5rem

        img
            max-width: 15rem
            height: 10rem
            object-fit: contain
            background: lighten($background, 2%)
            border-radius: calc(#{$radius} / 3)

            opacity: 0
            transition: opacity 0.2s ease-in-out

            &.loaded
                opacity: 1

    &:hover
        border: 1px solid rgba($accent, 0.1)
        background: rgba($accent, 0.01)